"use strict";
import{r as t}from"../../../../_virtual/resolve-href.js";import"../shared/lib/router/utils/querystring.js";import"../shared/lib/router/utils/format-url.js";import"../shared/lib/router/utils/omit.js";import"../shared/lib/utils.js";import"./normalize-trailing-slash.js";import"../shared/lib/router/utils/is-local-url.js";import"../shared/lib/router/utils/index.js";import"../shared/lib/router/utils/interpolate-as.js";import{__exports as r}from"../../../../_virtual/omit.js";import{__exports as e}from"../../../../_virtual/is-local-url.js";import{__exports as a}from"../../../../_virtual/interpolate-as.js";import{q as s}from"../../../../_virtual/querystring.js";import{f as i}from"../../../../_virtual/format-url.js";import{u as o}from"../../../../_virtual/utils.js";import{n as l}from"../../../../_virtual/normalize-trailing-slash.js";import{u as n}from"../../../../_virtual/index3.js";!function(t,u){Object.defineProperty(u,"__esModule",{value:!0}),Object.defineProperty(u,"resolveHref",{enumerable:!0,get:function(){return v}});const m=s.exports,p=i.exports,h=r,f=o.exports,c=l.exports,d=e,j=n.exports,_=a;function v(t,r,e){let a,s="string"==typeof r?r:(0,p.formatWithValidation)(r);const i=s.match(/^[a-zA-Z]{1,}:\/\//),o=i?s.slice(i[0].length):s;if((o.split("?",1)[0]||"").match(/(\/\/|\\)/)){console.error("Invalid href '"+s+"' passed to next/router in page: '"+t.pathname+"'. Repeated forward-slashes (//) or backslashes \\ are not valid in the href.");const r=(0,f.normalizeRepeatedSlashes)(o);s=(i?i[0]:"")+r}if(!(0,d.isLocalURL)(s))return e?[s]:s;try{a=new URL(s.startsWith("#")?t.asPath:t.pathname,"http://n")}catch(t){a=new URL("/","http://n")}try{const t=new URL(s,a);t.pathname=(0,c.normalizePathTrailingSlash)(t.pathname);let r="";if((0,j.isDynamicRoute)(t.pathname)&&t.searchParams&&e){const e=(0,m.searchParamsToUrlQuery)(t.searchParams),{result:a,params:s}=(0,_.interpolateAs)(t.pathname,t.pathname,e);a&&(r=(0,p.formatWithValidation)({pathname:a,hash:t.hash,query:(0,h.omit)(e,s)}))}const i=t.origin===a.origin?t.href.slice(t.origin.length):t.href;return e?[i,r||i]:i}catch(t){return e?[s]:s}}("function"==typeof u.default||"object"==typeof u.default&&null!==u.default)&&void 0===u.default.__esModule&&(Object.defineProperty(u.default,"__esModule",{value:!0}),Object.assign(u.default,u),t.exports=u.default)}(t,t.exports);
//# sourceMappingURL=resolve-href.js.map
