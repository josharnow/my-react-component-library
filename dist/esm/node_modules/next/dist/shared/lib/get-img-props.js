"use strict";
import{__exports as e}from"../../../../../_virtual/get-img-props.js";import"./utils/warn-once.js";import"./image-blur-svg.js";import"./image-config.js";import{__exports as t}from"../../../../../_virtual/warn-once.js";import{__exports as i}from"../../../../../_virtual/image-blur-svg.js";import{i as r}from"../../../../../_virtual/image-config.js";!function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"getImgProps",{enumerable:!0,get:function(){return u}});const o=t,s=i,n=r.exports,a=["lazy","eager",void 0];function l(e){return void 0!==e.default}const d=new Map;let h;function c(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function p(e){let{config:t,src:i,unoptimized:r,width:o,quality:s,sizes:n,loader:a}=e;if(r)return{src:i,srcSet:void 0,sizes:void 0};const{widths:l,kind:d}=function(e,t,i){let{deviceSizes:r,allSizes:o}=e;if(i){const e=/(^|\s)(1?\d?\d)vw/g,t=[];for(let r;r=e.exec(i);r)t.push(parseInt(r[2]));if(t.length){const e=.01*Math.min(...t);return{widths:o.filter((t=>t>=r[0]*e)),kind:"w"}}return{widths:o,kind:"w"}}return"number"!=typeof t?{widths:r,kind:"w"}:{widths:[...new Set([t,2*t].map((e=>o.find((t=>t>=e))||o[o.length-1])))],kind:"x"}}(t,o,n),h=l.length-1;return{sizes:n||"w"!==d?n:"100vw",srcSet:l.map(((e,r)=>a({config:t,src:i,quality:s,width:e})+" "+("w"===d?e:r+1)+d)).join(", "),src:a({config:t,src:i,quality:s,width:l[h]})}}function u(e,t){let{src:i,sizes:r,unoptimized:u=!1,priority:g=!1,loading:m,className:f,quality:w,width:y,height:b,fill:v=!1,style:I,overrideSrc:j,onLoad:z,onLoadingComplete:x,placeholder:E="empty",blurDataURL:O,fetchPriority:R,layout:P,objectFit:S,objectPosition:N,lazyBoundary:_,lazyRoot:L,...k}=e;const{imgConf:C,showAltText:D,blurComplete:W,defaultLoader:U}=t;let q,F=C||n.imageConfigDefault;if("allSizes"in F)q=F;else{const e=[...F.deviceSizes,...F.imageSizes].sort(((e,t)=>e-t)),t=F.deviceSizes.sort(((e,t)=>e-t));q={...F,allSizes:e,deviceSizes:t}}if(void 0===U)throw new Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config");let A=k.loader||U;delete k.loader,delete k.srcSet;const M="__next_img_default"in A;if(M){if("custom"===q.loader)throw new Error('Image with src "'+i+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader')}else{const e=A;A=t=>{const{config:i,...r}=t;return e(r)}}if(P){"fill"===P&&(v=!0);const e={responsive:"100vw",fill:"100vw"},t={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[P];t&&(I={...I,...t});const i=e[P];i&&!r&&(r=i)}let V,B,H="",J=c(y),G=c(b);if(function(e){return"object"==typeof e&&(l(e)||function(e){return void 0!==e.src}(e))}(i)){const e=l(i)?i.default:i;if(!e.src)throw new Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(e));if(!e.height||!e.width)throw new Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(e));if(V=e.blurWidth,B=e.blurHeight,O=O||e.blurDataURL,H=e.src,!v)if(J||G){if(J&&!G){const t=J/e.width;G=Math.round(e.height*t)}else if(!J&&G){const t=G/e.height;J=Math.round(e.width*t)}}else J=e.width,G=e.height}i="string"==typeof i?i:H;let T=!g&&("lazy"===m||void 0===m);(!i||i.startsWith("data:")||i.startsWith("blob:"))&&(u=!0,T=!1),q.unoptimized&&(u=!0),M&&i.endsWith(".svg")&&!q.dangerouslyAllowSVG&&(u=!0),g&&(R="high");const $=c(w);if("production"!==process.env.NODE_ENV){if("export"===q.output&&M&&!u)throw new Error("Image Optimization using the default loader is not compatible with `{ output: 'export' }`.\n  Possible solutions:\n    - Remove `{ output: 'export' }` and run \"next start\" to run server mode including the Image Optimization API.\n    - Configure `{ images: { unoptimized: true } }` in `next.config.js` to disable the Image Optimization API.\n  Read more: https://nextjs.org/docs/messages/export-image-api");if(i)if(v){if(y)throw new Error('Image with src "'+i+'" has both "width" and "fill" properties. Only one should be used.');if(b)throw new Error('Image with src "'+i+'" has both "height" and "fill" properties. Only one should be used.');if((null==I?void 0:I.position)&&"absolute"!==I.position)throw new Error('Image with src "'+i+'" has both "fill" and "style.position" properties. Images with "fill" always use position absolute - it cannot be modified.');if((null==I?void 0:I.width)&&"100%"!==I.width)throw new Error('Image with src "'+i+'" has both "fill" and "style.width" properties. Images with "fill" always use width 100% - it cannot be modified.');if((null==I?void 0:I.height)&&"100%"!==I.height)throw new Error('Image with src "'+i+'" has both "fill" and "style.height" properties. Images with "fill" always use height 100% - it cannot be modified.')}else{if(void 0===J)throw new Error('Image with src "'+i+'" is missing required "width" property.');if(isNaN(J))throw new Error('Image with src "'+i+'" has invalid "width" property. Expected a numeric value in pixels but received "'+y+'".');if(void 0===G)throw new Error('Image with src "'+i+'" is missing required "height" property.');if(isNaN(G))throw new Error('Image with src "'+i+'" has invalid "height" property. Expected a numeric value in pixels but received "'+b+'".')}else u=!0;if(!a.includes(m))throw new Error('Image with src "'+i+'" has invalid "loading" property. Provided "'+m+'" should be one of '+a.map(String).join(",")+".");if(g&&"lazy"===m)throw new Error('Image with src "'+i+'" has both "priority" and "loading=\'lazy\'" properties. Only one should be used.');if("empty"!==E&&"blur"!==E&&!E.startsWith("data:image/"))throw new Error('Image with src "'+i+'" has invalid "placeholder" property "'+E+'".');if("empty"!==E&&J&&G&&J*G<1600&&(0,o.warnOnce)('Image with src "'+i+'" is smaller than 40x40. Consider removing the "placeholder" property to improve performance.'),"blur"===E&&!O){throw new Error('Image with src "'+i+'" has "placeholder=\'blur\'" property but is missing the "blurDataURL" property.\n        Possible solutions:\n          - Add a "blurDataURL" property, the contents should be a small Data URL to represent the image\n          - Change the "src" property to a static import with one of the supported file types: '+["jpeg","png","webp","avif"].join(",")+' (animated images not supported)\n          - Remove the "placeholder" property, effectively no blur effect\n        Read more: https://nextjs.org/docs/messages/placeholder-blur-data-url')}if("ref"in k&&(0,o.warnOnce)('Image with src "'+i+'" is using unsupported "ref" property. Consider using the "onLoad" property instead.'),!u&&!M){const e=A({config:q,src:i,width:J||400,quality:$||75});let t;try{t=new URL(e)}catch(e){}(e===i||t&&t.pathname===i&&!t.search)&&(0,o.warnOnce)('Image with src "'+i+'" has a "loader" property that does not implement width. Please implement it or use the "unoptimized" property instead.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader-width')}x&&(0,o.warnOnce)('Image with src "'+i+'" is using deprecated "onLoadingComplete" property. Please use the "onLoad" property instead.');for(const[e,t]of Object.entries({layout:P,objectFit:S,objectPosition:N,lazyBoundary:_,lazyRoot:L}))t&&(0,o.warnOnce)('Image with src "'+i+'" has legacy prop "'+e+'". Did you forget to run the codemod?\nRead more: https://nextjs.org/docs/messages/next-image-upgrade-to-13');if("undefined"!=typeof window&&!h&&window.PerformanceObserver){h=new PerformanceObserver((e=>{for(const i of e.getEntries()){var t;const e=(null==i||null==(t=i.element)?void 0:t.src)||"",r=d.get(e);!r||r.priority||"empty"!==r.placeholder||r.src.startsWith("data:")||r.src.startsWith("blob:")||(0,o.warnOnce)('Image with src "'+r.src+'" was detected as the Largest Contentful Paint (LCP). Please add the "priority" property if this image is above the fold.\nRead more: https://nextjs.org/docs/api-reference/next/image#priority')}}));try{h.observe({type:"largest-contentful-paint",buffered:!0})}catch(e){console.error(e)}}}const K=Object.assign(v?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:S,objectPosition:N}:{},D?{}:{color:"transparent"},I),Q=W||"empty"===E?null:"blur"===E?'url("data:image/svg+xml;charset=utf-8,'+(0,s.getImageBlurSvg)({widthInt:J,heightInt:G,blurWidth:V,blurHeight:B,blurDataURL:O||"",objectFit:K.objectFit})+'")':'url("'+E+'")';let X=Q?{backgroundSize:K.objectFit||"cover",backgroundPosition:K.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:Q}:{};"development"===process.env.NODE_ENV&&X.backgroundImage&&"blur"===E&&(null==O?void 0:O.startsWith("/"))&&(X.backgroundImage='url("'+O+'")');const Y=p({config:q,src:i,unoptimized:u,width:J,quality:$,sizes:r,loader:A});if("production"!==process.env.NODE_ENV&&"undefined"!=typeof window){let e;try{e=new URL(Y.src)}catch(t){e=new URL(Y.src,window.location.href)}d.set(e.href,{src:i,priority:g,placeholder:E})}return{props:{...k,loading:T?"lazy":m,fetchPriority:R,width:J,height:G,decoding:"async",className:f,style:{...K,...X},sizes:Y.sizes,srcSet:Y.srcSet,src:j||Y.src},meta:{unoptimized:u,priority:g,placeholder:E,fill:v}}}}(e);
//# sourceMappingURL=get-img-props.js.map
